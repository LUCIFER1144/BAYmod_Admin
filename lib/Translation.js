// lib/Translation.js
import { useState, useEffect, createContext, useContext } from 'react';

// Dictionaries for each language
const dictionaries = {
    en: {
        dashboard: 'Dashboard',
        products: 'Products',
        Categories: 'Categories',
        Orders: 'Orders',
        settings: 'Settings',
        admin: 'Admin',
        logout: 'Logout',
        adminDashboard: 'Admin Dashboard',
        hello: 'Hello,',
        totalProducts: 'Total Products',
        totalOrders: 'Total Orders',
        totalCategories: 'Total Categories',
        settingsTitle: 'Settings',
        languageLabel: 'Language',
        themeLabel: 'Theme',
        lightMode: 'Light Mode',
        darkMode: 'Dark Mode',
        saveButton: 'Save Settings',
        savingStatus: 'Saving...',
        saveSuccess: 'Settings saved successfully!',
        saveError: 'Failed to save settings.',
        saveLanguageButton: 'Save Language',
        saveThemeButton: 'Save Theme',
        AddNewProduct: 'Add new product',
        ProductName: 'Product name',
        NoProductsFound: 'No products found.',
        Edit: 'Edit',
        Delete: 'Delete',
        Date: 'Date',
        Paid: 'Paid',
        Recipient: 'Recipient',
        Actions: 'Actions',
        NoOrdersFound: 'No orders found.',
        OrderID: 'Order ID:',
        ConfirmOrderDeletion: 'Confirm Deletion',
        AreYouSureDeleteOrder: 'Are you sure you want to delete the order from',
        ThisActionCannotBeUndone: 'This action cannot be undone.',
        TotalProducts: 'Total Products',
        NoParentCategory: 'No Parent Category',
        Properties: 'Properties',
        AddNewProperty: 'Add new property',
        Remove: 'Remove',
        Cancel: 'Cancel',
        Save: 'Save',
        EditCategory: 'Edit category',
        CreateNewCategory: 'Create new category',
        CategoryName: 'Category name',
        ParentCategory: 'Parent category',
        NoCategoriesFound: 'No categories found.',
        ManageAdminAccounts: 'Manage Admin Accounts',
        Name: 'Name',
        CannotChangeSelfStatus: 'Cannot change self status',
        NoUsersFound: 'No users found.',
        AdminStatus: 'Admin Status',
        Email: 'Email',
        NewProduct: 'New Product',
        LoadingProduct: 'Loading product...',
        EditProduct: 'Edit Product',
        No: 'No',
        Yes: 'Yes',
        ConfirmDeletion: 'Do you really want to delete',
        ProductName: 'Product Name',
        Price: 'Price',
        Description: 'Description',
        UploadImg: 'Upload img',
        Photos: 'Photos',
        SelectaValue: 'Select a value',
        Uncategorized: 'Uncategorized',
        Category: 'Category',
    },
    ar: {
        dashboard: 'لوحة التحكم',
        products: 'المنتجات',
        Categories: 'الفئات',
        Orders: 'الطلبات',
        settings: 'الإعدادات',
        admin: 'المدير',
        logout: 'تسجيل الخروج',
        adminDashboard: 'لوحة تحكم المدير',
        hello: 'مرحباً',
        totalProducts: 'إجمالي المنتجات',
        totalOrders: 'إجمالي الطلبات',
        totalCategories: 'إجمالي الفئات',
        settingsTitle: 'الإعدادات',
        languageLabel: 'اللغة',
        themeLabel: 'النمط',
        lightMode: 'الوضع الفاتح',
        darkMode: 'الوضع الداكن',
        saveButton: 'حفظ الإعدادات',
        savingStatus: 'جاري الحفظ...',
        saveSuccess: 'تم حفظ الإعدادات بنجاح!',
        saveError: 'فشل في حفظ الإعدادات.',
        saveLanguageButton: 'حفظ اللغة',
        saveThemeButton: ' حفظ المظهر',
        AddNewProduct: 'اضافة منتج جديد',
        ProductName: 'اسم المنتج',
        NoProductsFound: 'لا يوجد منتجات',
        Edit: 'تعديل',
        Delete: 'حذف',
        Date: 'التاريخ',
        Actions: 'العملية',
        Recipient:'الفاتورة',
        Paid:'حالة الدفع',
        NoOrdersFound: 'لا يوجد طلبات',
        OrderID: 'رقم المنتج:',
        NoParentCategory: 'لا يوجد فئة رئيسية',
        Properties: 'خصائص',
        AddNewProperty: 'اضف خاصية جديدة',
        Remove: 'ازالة',
        Cancel: 'الغاء',
        Save: 'حفظ',
        EditCategory: 'تعديل الفئة',
        CreateNewCategory: 'انشاء فئة جديدة',
        CategoryName: 'اسم الفئة',
        ParentCategory: 'الفئة الرئيسية',
        NoCategoriesFound: 'لا يوجد فئات',
        ManageAdminAccounts: 'ادارة حسابات المدير',
        Name: 'الاسم',
        CannotChangeSelfStatus: 'لا يمكنك تغيير حالتك',
        NoUsersFound: 'لا يوجد مستخدمين.',
        AdminStatus: 'حالات المدراء',
        Email: 'البريد الالكتروني',
        NewProduct: 'منتج جديد',
        LoadingProduct: '...تحميل المنتجات',
        EditProduct: 'تعديل المنتج',
        No: 'لا',
        Yes: 'نعم',
        ConfirmDeletion: 'هل تريد الحذف',
        ProductName: 'اسم المنتج',
        Price: 'السعر',
        Description: 'الوصف',
        UploadImg: 'تحميل صورة',
        Photos: 'الصور',
        SelectaValue: 'اختر قيمة',
        Uncategorized: 'بلا فئة',
        Category: 'فئة',
        ConfirmOrderDeletion: 'تأكيد الحذف',
        AreYouSureDeleteOrder: 'هل انت متأكد انك تريد حذف هذا الطلب من',
        ThisActionCannotBeUndone: 'لا يمكن التراجع عن هذا الإجراء.',
        TotalProducts: 'إجمالي المنتجات',
    },
};

const TranslationContext = createContext();

export function TranslationProvider({ children, initialLanguage }) {
    const [language, setLanguage] = useState(initialLanguage || 'en');
    const [t, setT] = useState(dictionaries[initialLanguage || 'en']);

    useEffect(() => {
        setT(dictionaries[language]);
        // Set document direction for RTL languages like Arabic
        document.documentElement.setAttribute('dir', language === 'ar' ? 'rtl' : 'ltr');
    }, [language]);

    return (
        <TranslationContext.Provider value={{ language, setLanguage, t }}>
            {children}
        </TranslationContext.Provider>
    );
}

export function useTranslation() {
    return useContext(TranslationContext);
}
